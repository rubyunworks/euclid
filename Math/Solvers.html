<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

  <title>Module: Math::Solvers</title>

  
    <link rel="SHORTCUT ICON" href="../assets/icon/module.png">
  

  <link type="text/css" rel="stylesheet" href="../assets/rdoc.css" media="screen" />
  <link type="text/css" rel="stylesheet" href="../assets/highlight/styles/github.css" title="GitHub" />

  <script type="text/javascript" charset="utf-8" src="../assets/jquery.js"></script>
  <script type="text/javascript" charset="utf-8" src="../assets/highlight/highlight.pack.js"></script>
  <script type="text/javascript" charset="utf-8" src="../assets/quicksearch.js"></script>
  <script type="text/javascript" charset="utf-8" src="../assets/main.js"></script>

  <script type="text/javascript">
    $(document).ready( function() {
      $('#documentation pre').wrapInner('<code></code>');
      hljs.tabReplace = '    ';
      hljs.initHighlightingOnLoad('ruby');

	    hookSourceViews();
	    hookDebuggingToggle();
	    hookQuickSearch();
	    highlightLocationTarget();

	    $('ul.link-list a').bind( "click", highlightClickTarget );
    });
  </script>
</head>
<body class="module">
<div id="main">

  <div class="head">
    <h1>
      
        <img src="../assets/icon/module.png" align="absmiddle">&nbsp;
      
      <a href="../index.html">Euclid</a>&nbsp;
      <a href="/">Math::Solvers</a>
    </h1>
  </div>

  <div id="metadata">
    <div id="project-metadata">

      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li class="file"><a href="../lib/euclid/math/solvers_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/euclid/math/solvers.rb">lib/euclid/math/solvers.rb</a></li>
          
          </ul>
        </div>
      </div>

      <!-- What about Git info, or Hg info? This seems almost silly, albeit kind of cool. -->
      <!-- TODO: generalize this for all SCMs -->

      
    </div>

    <div id="class-metadata">

      <!-- Parent Class -->
      

      <!-- Namespace Contents -->
      

      <!-- Method Quickref -->
      
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
            
            <li class="method">
              <a href="#method-i-linsolve">#linsolve</a>
            </li>
          
            
            <li class="method">
              <a href="#method-i-sqsolve">#sqsolve</a>
            </li>
          
        </ul>
      </div>
      

      <!-- Included Modules -->
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Information</h3>
        <ul>
        
          <li class="file"><a href="../NOTICE.html">NOTICE</a></li>
        
          <li class="file"><a href="../HISTORY.html">HISTORY</a></li>
        
          <li class="file"><a href="../LICENSE.html">LICENSE</a></li>
        
          <li class="file"><a href="../README.html">README</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class Index
          <span class="search-toggle"><img src="../assets/icon/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <!-- classpage.html : classes -->
        <ul class="link-list">
        
          <li class="class"><a href="../Matrix.html">Matrix</a></li>
        
          <li class="module"><a href="../Matrix/Givens.html">Matrix::Givens</a></li>
        
          <li class="module"><a href="../Matrix/Hessenberg.html">Matrix::Hessenberg</a></li>
        
          <li class="module"><a href="../Matrix/Householder.html">Matrix::Householder</a></li>
        
          <li class="module"><a href="../Matrix/Jacobi.html">Matrix::Jacobi</a></li>
        
          <li class="module"><a href="../Matrix/LU.html">Matrix::LU</a></li>
        
          <li class="module"><a href="../Matrix/MMatrix.html">Matrix::MMatrix</a></li>
        
          <li class="module"><a href="../Math/Finance.html">Math::Finance</a></li>
        
          <li class="module"><a href="../Math/Logarithmic.html">Math::Logarithmic</a></li>
        
          <li class="module"><a href="../Math/Miscellaneous.html">Math::Miscellaneous</a></li>
        
          <li class="module"><a href="../Math/Probability.html">Math::Probability</a></li>
        
          <li class="module"><a href="../Math/Solvers.html">Math::Solvers</a></li>
        
          <li class="module"><a href="../Math/Trigonometry.html">Math::Trigonometry</a></li>
        
          <li class="module"><a href="../Euclid.html">Euclid</a></li>
        
          <li class="class"><a href="../Euclid/Matrix.html">Euclid::Matrix</a></li>
        
          <li class="module"><a href="../Enumerable/Probability.html">Enumerable::Probability</a></li>
        
          <li class="class"><a href="../InfinityClass.html">InfinityClass</a></li>
        
          <li class="class"><a href="../InfinityClass/Numeric.html">InfinityClass::Numeric</a></li>
        
          <li class="class"><a href="../Vector.html">Vector</a></li>
        
          <li class="module"><a href="../Vector/Norm.html">Vector::Norm</a></li>
        
          <li class="class"><a href="../Interval.html">Interval</a></li>
        
          <li class="class"><a href="../Object.html">Object</a></li>
        
          <li class="class"><a href="../Quaternion.html">Quaternion</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>
    </div>

    <div id="validator-badges">
      
      <div style="float: right; margin-right: 5px;">
        <a href="http://validator.w3.org/check/referer"><img src="../assets/icon/check.png" alt="[Validate]" height="16" width="16" /></a>
      </div>
      Generated with <a href="http://rubyworks.github.com/rdazzle">RDazzle Newfish</a> 1.3.0
      <br/><br/>
    </div>
  </div>

  <div id="documentation">

    <div id="description">
      

      <h1>Solver Math Extensions</h1>

    </div>

    <!-- Constants -->
    

    <!-- Attributes -->
    

    <!-- Methods -->
    
    <div id="public-instance-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="linsolve-method" class="method-detail ">
        <a name="method-i-linsolve"></a>

        <div class="method-heading">
        
          <span class="method-name">linsolve</span><span
            class="method-args">(a, b, c = 0.0)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns real solution(s) of <tt>+a+x + b = c</tt> or <tt>nil</tt> if no or
an infinite number of solutions exist. If <tt>c</tt> is missing it is
assumed to be 0.
</p>
          

          
          <div class="method-source-code"
            id="linsolve-source">
<pre>
    <span class="ruby-comment cmt"># File lib/euclid/math/solvers.rb, line 10</span>
10:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">linsolve</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">c</span> = <span class="ruby-value">0.0</span>)
11:       <span class="ruby-identifier">a</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> (<span class="ruby-identifier">c</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">b</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">a</span>
12:     <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="sqsolve-method" class="method-detail ">
        <a name="method-i-sqsolve"></a>

        <div class="method-heading">
        
          <span class="method-name">sqsolve</span><span
            class="method-args">(a, b, c, d = 0.0)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns array of real solution of <tt>ax**2 + bx + c = d</tt> or
<tt>nil</tt> if no or an infinite number of solutions exist. If <tt>d</tt>
is missing it is assumed to be 0.
</p>
<h2>Solving second order equations</h2>
<p>
In order to solve <tt>ax**2 + bx + c = d</tt> <tt>Extmath.sqsolve</tt>
identifies several cases:
</p>
<ul>
<li><p>
<tt>a == 0:</tt> The equation to be solved is the linear equation <tt>bx +
c = d</tt>. <a href="Solvers.html#method-i-sqsolve">sqsolve</a>> delegates
the computation to <a href="Solvers.html#method-i-linsolve">linsolve</a>>.
If it results in <tt>nil</tt>, <tt>nil</tt> is returned (not
<tt>[nil]</tt>!). Otherwise a one-element array containing result of <a
href="Solvers.html#method-i-linsolve">linsolve</a> is returned.
</p>
</li>
<li><p>
<tt>a != 0:</tt>
</p>
<pre>
 The equation to be solved actually is a second order one.
 * &lt;code&gt;c == d&lt;/code&gt;
   The equation to be solved is &lt;code&gt;ax**2 + bx = 0&lt;/code&gt;. One solution of this equation obviously is
   &lt;code&gt;x = 0&lt;/code&gt;, the second one solves &lt;code&gt;ax + b = 0&lt;/code&gt;. The solution of the latter is
   delegated to +Extmath.linsolve+. An array containing both results in ascending order is returned.
 * &lt;code&gt;c != d&lt;/code&gt;
   The equation cannot be separated into &lt;code&gt;x&lt;/code&gt; times some factor.
   * &lt;code&gt;b == 0&lt;/code&gt;
     The equation to be solved is &lt;code&gt;ax**2 + c = d&lt;/code&gt;. This can be written as the linear equation
     &lt;code&gt;ay + c = d&lt;/code&gt; with &lt;code&gt;y = x ** 2&lt;/code&gt;. The solution of the linear equation is delegated
     to +Extmath.linsolve+. If the returned value for +y+ is +nil+, that becomes the overall return value.
     Otherwise an array containing the negative and positive squareroot of +y+ is returned
   * &lt;code&gt;b != 0 &lt;/code&gt;
     The equation cannot be reduced to simpler cases. We now first have to compute what is called the
     discriminant &lt;code&gt;x = b**2 + 4a(d - c)&lt;/code&gt; (that's what we need to compute the square root of).
     If the descriminant is negative no real solution exists and &lt;code&gt;nil&lt;/code&gt; is returned. The ternary
     operator checking whether &lt;code&gt;b&lt;/code&gt; is negative does ensure better numerical stability --only one
     of the two solutions is computed using the widely know formula for solving second order equations.
     The second one is computed from the fact that the product of both solutions is &lt;code&gt;(c - d) / a&lt;/code&gt;.
     Take a look at a book on numerical mathematics if you don't understand why this should be done.</pre>
</li>
</ul>
          

          
          <div class="method-source-code"
            id="sqsolve-source">
<pre>
    <span class="ruby-comment cmt"># File lib/euclid/math/solvers.rb, line 46</span>
46:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sqsolve</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>, <span class="ruby-identifier">c</span>, <span class="ruby-identifier">d</span> = <span class="ruby-value">0.0</span>)
47:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">==</span> <span class="ruby-value">0.0</span>
48:         <span class="ruby-identifier">x</span> = <span class="ruby-identifier">linsolve</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">c</span>, <span class="ruby-identifier">d</span>)
49:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span><span class="ruby-operator">:</span> [ <span class="ruby-identifier">linsolve</span>(<span class="ruby-identifier">b</span>, <span class="ruby-identifier">c</span>, <span class="ruby-identifier">d</span>) ]
50:       <span class="ruby-keyword kw">else</span>
51:         <span class="ruby-keyword kw">return</span> [<span class="ruby-value">0.0</span>, <span class="ruby-identifier">linsolve</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span>)].<span class="ruby-identifier">sort</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">d</span>
52:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">==</span> <span class="ruby-value">0.0</span>
53:           <span class="ruby-identifier">x</span> = <span class="ruby-constant">Extmath</span>.<span class="ruby-identifier">linsolve</span>(<span class="ruby-identifier">a</span>, <span class="ruby-identifier">c</span>, <span class="ruby-identifier">d</span>)
54:           <span class="ruby-identifier">x</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0.0</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> [<span class="ruby-operator">-</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">sqrt</span>(<span class="ruby-identifier">x</span>), <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sqrt</span>(<span class="ruby-identifier">x</span>)]
55:         <span class="ruby-keyword kw">else</span>
56:           <span class="ruby-identifier">x</span> = <span class="ruby-identifier">b</span> * <span class="ruby-identifier">b</span> <span class="ruby-operator">+</span> <span class="ruby-value">4.0</span> * <span class="ruby-identifier">a</span> * (<span class="ruby-identifier">d</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">c</span>)
57:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">x</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0.0</span>
58:           <span class="ruby-identifier">x</span> = <span class="ruby-identifier">b</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">-</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sqrt</span>(<span class="ruby-identifier">x</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">b</span> <span class="ruby-operator">+</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">sqrt</span>(<span class="ruby-identifier">x</span>)
59:           [<span class="ruby-value">0.5</span> * <span class="ruby-identifier">x</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">a</span>, <span class="ruby-value">2.0</span> * (<span class="ruby-identifier">d</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">c</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">x</span>].<span class="ruby-identifier">sort</span>
60:         <span class="ruby-keyword kw">end</span>
61:       <span class="ruby-keyword kw">end</span>
62:     <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
    </div>
  

  </div>


  <div id="rdoc-debugging-section-dump" class="debugging-section">
  
    <p>Disabled; run with --debug to generate this.</p>
  
  </div>

</main>
</body>
</html>

