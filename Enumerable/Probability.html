<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

  <title>Module: Enumerable::Probability</title>

  
    <link rel="SHORTCUT ICON" href="../assets/icon/module.png">
  

  <link type="text/css" rel="stylesheet" href="../assets/rdoc.css" media="screen" />
  <link type="text/css" rel="stylesheet" href="../assets/highlight/styles/github.css" title="GitHub" />

  <script type="text/javascript" charset="utf-8" src="../assets/jquery.js"></script>
  <script type="text/javascript" charset="utf-8" src="../assets/highlight/highlight.pack.js"></script>
  <script type="text/javascript" charset="utf-8" src="../assets/quicksearch.js"></script>
  <script type="text/javascript" charset="utf-8" src="../assets/main.js"></script>

  <script type="text/javascript">
    $(document).ready( function() {
      $('#documentation pre').wrapInner('<code></code>');
      hljs.tabReplace = '    ';
      hljs.initHighlightingOnLoad('ruby');

	    hookSourceViews();
	    hookDebuggingToggle();
	    hookQuickSearch();
	    highlightLocationTarget();

	    $('ul.link-list a').bind( "click", highlightClickTarget );
    });
  </script>
</head>
<body class="module">
<div id="main">

  <div class="head">
    <h1>
      
        <img src="../assets/icon/module.png" align="absmiddle">&nbsp;
      
      <a href="../index.html">Euclid</a>&nbsp;
      <a href="/">Enumerable::Probability</a>
    </h1>
  </div>

  <div id="metadata">
    <div id="project-metadata">

      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li class="file"><a href="../lib/euclid/math/probability_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/euclid/math/probability.rb">lib/euclid/math/probability.rb</a></li>
          
          </ul>
        </div>
      </div>

      <!-- What about Git info, or Hg info? This seems almost silly, albeit kind of cool. -->
      <!-- TODO: generalize this for all SCMs -->

      
    </div>

    <div id="class-metadata">

      <!-- Parent Class -->
      

      <!-- Namespace Contents -->
      

      <!-- Method Quickref -->
      
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
            
            <li class="method">
              <a href="#method-i-commonality">#commonality</a>
            </li>
          
            
            <li class="method">
              <a href="#method-i-entropy">#entropy</a>
            </li>
          
            
            <li class="method">
              <a href="#method-i-frequency">#frequency</a>
            </li>
          
            
            <li class="method">
              <a href="#method-i-ideal_entropy">#ideal_entropy</a>
            </li>
          
            
            <li class="method">
              <a href="#method-i-probability">#probability</a>
            </li>
          
        </ul>
      </div>
      

      <!-- Included Modules -->
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Information</h3>
        <ul>
        
          <li class="file"><a href="../NOTICE.html">NOTICE</a></li>
        
          <li class="file"><a href="../HISTORY.html">HISTORY</a></li>
        
          <li class="file"><a href="../LICENSE.html">LICENSE</a></li>
        
          <li class="file"><a href="../README.html">README</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class Index
          <span class="search-toggle"><img src="../assets/icon/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <!-- classpage.html : classes -->
        <ul class="link-list">
        
          <li class="class"><a href="../Matrix.html">Matrix</a></li>
        
          <li class="module"><a href="../Matrix/Givens.html">Matrix::Givens</a></li>
        
          <li class="module"><a href="../Matrix/Hessenberg.html">Matrix::Hessenberg</a></li>
        
          <li class="module"><a href="../Matrix/Householder.html">Matrix::Householder</a></li>
        
          <li class="module"><a href="../Matrix/Jacobi.html">Matrix::Jacobi</a></li>
        
          <li class="module"><a href="../Matrix/LU.html">Matrix::LU</a></li>
        
          <li class="module"><a href="../Matrix/MMatrix.html">Matrix::MMatrix</a></li>
        
          <li class="module"><a href="../Math/Finance.html">Math::Finance</a></li>
        
          <li class="module"><a href="../Math/Logarithmic.html">Math::Logarithmic</a></li>
        
          <li class="module"><a href="../Math/Miscellaneous.html">Math::Miscellaneous</a></li>
        
          <li class="module"><a href="../Math/Probability.html">Math::Probability</a></li>
        
          <li class="module"><a href="../Math/Solvers.html">Math::Solvers</a></li>
        
          <li class="module"><a href="../Math/Trigonometry.html">Math::Trigonometry</a></li>
        
          <li class="module"><a href="../Euclid.html">Euclid</a></li>
        
          <li class="class"><a href="../Euclid/Matrix.html">Euclid::Matrix</a></li>
        
          <li class="module"><a href="../Enumerable/Probability.html">Enumerable::Probability</a></li>
        
          <li class="class"><a href="../InfinityClass.html">InfinityClass</a></li>
        
          <li class="class"><a href="../InfinityClass/Numeric.html">InfinityClass::Numeric</a></li>
        
          <li class="class"><a href="../Vector.html">Vector</a></li>
        
          <li class="module"><a href="../Vector/Norm.html">Vector::Norm</a></li>
        
          <li class="class"><a href="../Interval.html">Interval</a></li>
        
          <li class="class"><a href="../Object.html">Object</a></li>
        
          <li class="class"><a href="../Quaternion.html">Quaternion</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>
    </div>

    <div id="validator-badges">
      
      <div style="float: right; margin-right: 5px;">
        <a href="http://validator.w3.org/check/referer"><img src="../assets/icon/check.png" alt="[Validate]" height="16" width="16" /></a>
      </div>
      Generated with <a href="http://rubyworks.github.com/rdazzle">RDazzle Newfish</a> 1.3.0
      <br/><br/>
    </div>
  </div>

  <div id="documentation">

    <div id="description">
      
        <h1>Probability</h1>
      

      
    </div>

    <!-- Constants -->
    

    <!-- Attributes -->
    

    <!-- Methods -->
    
    <div id="public-instance-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="commonality-method" class="method-detail ">
        <a name="method-i-commonality"></a>

        <div class="method-heading">
        
          <span class="method-name">commonality</span><span
            class="method-args">( &block )</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns all items that are equal in terms of the supplied block. If no
block is given objects are considered to be equal if they return the same
value for Object#hash and if obj1 == obj2.
</p>
<pre>
  [1, 2, 2, 3, 4, 4].commonality # =&gt; { 2 =&gt; [2], 4 =&gt; [4] }

  [&quot;foo&quot;, &quot;bar&quot;, &quot;a&quot;].commonality { |str| str.length }
  # =&gt; { 3 =&gt; [&quot;foo, &quot;bar&quot;] }

  # Returns all persons that share their last name with another person.
  persons.collisions { |person| person.last_name }
</pre>
<p>
CREDIT: Florian Gross
</p>
          

          
          <div class="method-source-code"
            id="commonality-source">
<pre>
     <span class="ruby-comment cmt"># File lib/euclid/math/probability.rb, line 402</span>
402:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commonality</span>( &amp;<span class="ruby-identifier">block</span> )
403:       <span class="ruby-identifier">had_no_block</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">block</span>
404:       <span class="ruby-identifier">block</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span> }
405:       <span class="ruby-identifier">result</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
406:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
407:         <span class="ruby-identifier">key</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">item</span>)
408:         <span class="ruby-identifier">result</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
409:       <span class="ruby-keyword kw">end</span>
410:       <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span>
411:         <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1</span>
412:       <span class="ruby-keyword kw">end</span>
413:       <span class="ruby-comment cmt">#return had_no_block ? result.values.flatten : result</span>
414:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
415:     <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="entropy-method" class="method-detail ">
        <a name="method-i-entropy"></a>

        <div class="method-heading">
        
          <span class="method-name">entropy</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Shannon&#8217;s entropy for an array - returns the average bits per symbol
required to encode the array. Lower values mean less &#8220;entropy&#8221;
- i.e. less unique information in the array.
</p>
<pre>
  %w{ a b c d e e e }.entropy  #=&gt;
</pre>
<p>
CREDIT: Derek
</p>
          

          
          <div class="method-source-code"
            id="entropy-source">
<pre>
     <span class="ruby-comment cmt"># File lib/euclid/math/probability.rb, line 352</span>
352:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">entropy</span>
353:       <span class="ruby-identifier">arr</span> = <span class="ruby-identifier">to_a</span>
354:       <span class="ruby-identifier">probHash</span> = <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">probability</span>
355:       <span class="ruby-comment cmt"># h is the Shannon entropy of the array</span>
356:       <span class="ruby-identifier">h</span> = <span class="ruby-value">1</span>.<span class="ruby-identifier">to_f</span> * <span class="ruby-identifier">probHash</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
357:         <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">probHash</span>[<span class="ruby-identifier">i</span>] * (<span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">probHash</span>[<span class="ruby-identifier">i</span>])<span class="ruby-operator">/</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-value">2</span>.<span class="ruby-identifier">to_f</span>)))
358:       <span class="ruby-keyword kw">end</span>
359:       <span class="ruby-identifier">h</span>
360:     <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="frequency-method" class="method-detail ">
        <a name="method-i-frequency"></a>

        <div class="method-heading">
        
          <span class="method-name">frequency</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Generates a hash mapping each unique symbol in the array to the absolute
frequency it appears.
</p>
<p>
CREDIT: Brian Schröder
</p>
          

          
          <div class="method-source-code"
            id="frequency-source">
<pre>
     <span class="ruby-comment cmt"># File lib/euclid/math/probability.rb, line 379</span>
379:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">frequency</span>
380:       <span class="ruby-comment cmt">#probs = Hash.new(0)</span>
381:       <span class="ruby-comment cmt">#each do |e|</span>
382:       <span class="ruby-comment cmt">#  probs[e] += 1</span>
383:       <span class="ruby-comment cmt">#end</span>
384:       <span class="ruby-comment cmt">#probs</span>
385:       <span class="ruby-identifier">inject</span>(<span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>)){<span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">v</span>]<span class="ruby-operator">+=</span><span class="ruby-value">1</span>; <span class="ruby-identifier">h</span>}
386:     <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="ideal-entropy-method" class="method-detail ">
        <a name="method-i-ideal_entropy"></a>

        <div class="method-heading">
        
          <span class="method-name">ideal_entropy</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns the maximum possible Shannon entropy of the array with given size
assuming that it is an &#8220;order-0&#8221; source (each element is
selected independently of the next).
</p>
<p>
CREDIT: Derek
</p>
          

          
          <div class="method-source-code"
            id="ideal-entropy-source">
<pre>
     <span class="ruby-comment cmt"># File lib/euclid/math/probability.rb, line 368</span>
368:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ideal_entropy</span>
369:       <span class="ruby-identifier">arr</span> = <span class="ruby-identifier">to_a</span>
370:       <span class="ruby-identifier">unitProb</span> = <span class="ruby-value">1.0</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">to_f</span>
371:       (<span class="ruby-value">1</span>.<span class="ruby-identifier">to_f</span> * <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">to_f</span> * <span class="ruby-identifier">unitProb</span> * <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">unitProb</span>)<span class="ruby-operator">/</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-value">2</span>.<span class="ruby-identifier">to_f</span>))
372:     <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="probability-method" class="method-detail ">
        <a name="method-i-probability"></a>

        <div class="method-heading">
        
          <span class="method-name">probability</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Generates a hash mapping each unique element in the array to the relative
frequency, i.e. the probablity, of it&#8217;s appearence.
</p>
<p>
CREDIT: Brian Schröder
</p>
          

          
          <div class="method-source-code"
            id="probability-source">
<pre>
     <span class="ruby-comment cmt"># File lib/euclid/math/probability.rb, line 316</span>
316:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">probability</span>
317:       <span class="ruby-identifier">probs</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0.0</span>)
318:       <span class="ruby-identifier">size</span> = <span class="ruby-value">0.0</span>
319:       <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">e</span> <span class="ruby-operator">|</span>
320:         <span class="ruby-identifier">probs</span>[<span class="ruby-identifier">e</span>] <span class="ruby-operator">+=</span> <span class="ruby-value">1.0</span>
321:         <span class="ruby-identifier">size</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1.0</span>
322:       <span class="ruby-keyword kw">end</span>
323:       <span class="ruby-identifier">probs</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">probs</span>[<span class="ruby-identifier">e</span>] <span class="ruby-operator">/=</span> <span class="ruby-identifier">size</span> }
324:       <span class="ruby-identifier">probs</span>
325:     <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
    </div>
  

  </div>


  <div id="rdoc-debugging-section-dump" class="debugging-section">
  
    <p>Disabled; run with --debug to generate this.</p>
  
  </div>

</main>
</body>
</html>

